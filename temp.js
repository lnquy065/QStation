const firebase = require("firebase");


var config = {
    apiKey: "AIzaSyDxyHBFqWHTd4Uzs9p4TvmgmSEuInNDk5Q",
    authDomain: "qstation-5bd62.firebaseapp.com",
    databaseURL: "https://qstation-5bd62.firebaseio.com",
    storageBucket: "qstation-5bd62.appspot.com",

  };
firebase.initializeApp(config);

var darray = ["570/1542128406287","447/1542132002028","388/1542135605483","545/1542139205390","499/1542142805904","530/1542146406202","466/1542150007345","499/1542153607432","394/1542157201551","452/1542160801190","376/1542164402168","471/1542168003215","468/1542171607961","678/1542175204594","403/1542178806260","375/1542182403399","510/1542186004711","424/1542189602069","506/1542193206944","475/1542196808562","458/1542200401766","406/1542204003287","454/1542207601824","532/1542211206815","541/1542214809465",
"578/1542214804160","549/1542218408682","527/1542222008254","570/1542225607653","476/1542229206806","479/1542232802318","455/1542236403388","398/1542240001880","529/1542243608018","499/1542247206898","608/1542250804885","625/1542254404834","491/1542258004198","500/1542261607579","699/1542265201258","617/1542268808430","478/1542272409021","401/1542276006778","393/1542279609424","504/1542283207754","472/1542286809009","540/1542290406972","392/1542294004454","534/1542297602964","543/1542301202706",
"513/1542301204492","485/1542304804370","540/1542308405257","462/1542312001285","515/1542315603374","497/1542319205836","381/1542322803279","532/1542326401727","567/1542330009381","389/1542333601716","526/1542337206976","429/1542340802745","549/1542344402920","491/1542348004109","530/1542351603362","522/1542355208308","696/1542358804518","443/1542362408784","458/1542366001283","530/1542369605390","432/1542373201054","491/1542376808230","491/1542380402294","534/1542384004626","420/1542387604315",
"511/1542387605485","440/1542391202539","468/1542394802517","461/1542398405042","463/1542402007906","516/1542405604721","391/1542409209561","542/1542412807822","429/1542416406472","395/1542420001902","593/1542423605055","505/1542427208475","604/1542430807614","628/1542434407604","685/1542438008010","494/1542441601484","624/1542445203095","494/1542448803770","458/1542452404247","397/1542456008606","540/1542459607644","456/1542463207895","527/1542466805635","492/1542470408107","498/1542474001286",
"404/1542474002354","429/1542477609899","443/1542481205822","522/1542484802848","510/1542488408852","547/1542492002585","574/1542495605188","390/1542499206981","430/1542502808970","583/1542506409083","678/1542510006643","563/1542513606594","545/1542517202039","395/1542520805387","559/1542524409704","556/1542528006263","692/1542531602077","423/1542535202542","526/1542538804682","395/1542542405264","460/1542546001992","472/1542549605037","405/1542553204456","404/1542556808402","438/1542560402769",
"543/1542560401879","429/1542564004193","413/1542567609288","420/1542571207894","401/1542574806026","443/1542578409395","419/1542582008090","373/1542585609246","523/1542589204370","507/1542592807314","473/1542596406364","605/1542600004476","628/1542603605053","419/1542607203106","577/1542610802837","605/1542614407294","457/1542618004350","468/1542621608463","489/1542625207854","475/1542628805740","413/1542632409346","423/1542636003643","400/1542639605442","405/1542643204766","458/1542646809940",
"412/1542646806953","494/1542650403766","533/1542654004641","544/1542657603965","505/1542661203955","573/1542664807525","547/1542668409816","434/1542672001065","568/1542675607840","393/1542679205898","535/1542682806260","691/1542686401297","445/1542690008515","399/1542693603945","688/1542697202728","458/1542700808280","446/1542704403804","537/1542708004173","502/1542711606377","426/1542715201334","519/1542718806218","505/1542722407153","481/1542726002919","480/1542729605779","464/1542733201537",
"524/1542733208546","375/1542736808713","430/1542740408294","400/1542744001885","373/1542747609994","424/1542751202340","375/1542754807179","569/1542758409240","468/1542762001249","507/1542765601151","388/1542769207661","520/1542772803174","458/1542776409714","582/1542780006434","430/1542783606600","375/1542787207205","699/1542790801639","505/1542794404574","454/1542798004255","498/1542801603603","471/1542805206847","472/1542808809518","398/1542812407626","490/1542816009546","526/1542819609860",
"546/1542819608040","494/1542823203907","571/1542826802855","501/1542830407542","541/1542834004872","490/1542837608100","450/1542841207677","529/1542844809221","559/1542848407446","543/1542852007759","454/1542855603532","577/1542859204261","656/1542862809223","536/1542866406348","434/1542870004449","574/1542873609119","512/1542877205623","446/1542880809589","508/1542884402006","456/1542888007064","434/1542891608351","483/1542895205281","435/1542898802808","447/1542902408548","527/1542906003708",
"403/1542906004161","397/1542909606594","386/1542913207163","543/1542916806906","481/1542920402359","562/1542924006166","389/1542927603282","590/1542931202344","396/1542934807361","450/1542938403263","693/1542942006919","410/1542945606354","420/1542949207051","460/1542952802014","654/1542956401645","656/1542960004522","687/1542963609569","407/1542967205178","411/1542970801362","534/1542974405807","500/1542978006089","548/1542981605176","521/1542985203154","473/1542988805635","501/1542992405795",
"526/1542992401542","478/1542996006651","514/1542999606698","528/1543003203640","385/1543006801545","542/1543010404741","563/1543014002579","562/1543017607711","476/1543021203551","580/1543024808721","592/1543028404467","397/1543032008364","587/1543035609152","374/1543039209275","694/1543042804108","409/1543046404752","438/1543050009759","449/1543053608148","421/1543057207059","493/1543060805498","403/1543064402738","457/1543068007740","491/1543071605059","513/1543075209661","466/1543078808105",
"413/1543078808710","526/1543082405816","421/1543086009042","532/1543089609686","401/1543093205159","530/1543096803283","552/1543100408108","452/1543104009614","493/1543107601128","414/1543111203764","414/1543114801958","693/1543118405722","493/1543122004495","605/1543125607557","433/1543129202639","658/1543132808066","529/1543136401307","549/1543140006202","531/1543143603196","418/1543147208277","540/1543150806571","400/1543154403452","462/1543158003719","545/1543161606270","468/1543165204714",
"469/1543165205957","591/1543168805592","424/1543172402964","527/1543176008023","539/1543179609113","561/1543183201725","384/1543186802483","457/1543190407018","530/1543194009449","402/1543197601660","582/1543201202294","526/1543204803520","453/1543208404597","560/1543212009920","434/1543215604463","693/1543219203284","425/1543222808001","444/1543226404782","487/1543230007697","432/1543233602043","499/1543237205438","457/1543240806892","440/1543244409561","537/1543248007319","445/1543251602571",
"436/1543251606012","413/1543255202973","523/1543258809663","598/1543262404617","561/1543266009690","455/1543269603036","514/1543273205909","522/1543276809406","436/1543280403837","518/1543284003478","574/1543287607838","536/1543291201508","430/1543294803739","428/1543298408772","542/1543302004207","595/1543305604323","399/1543309205723","468/1543312805171","528/1543316402330","531/1543320003655","504/1543323601964","465/1543327204410","525/1543330805501","425/1543334403453","454/1543338005726",
"492/1543338004491","450/1543341609421","464/1543345207869","594/1543348809407","507/1543352403267","498/1543356005443","476/1543359608141","535/1543363204033","512/1543366809523","516/1543370402001","631/1543374008369","488/1543377609654","597/1543381205543","452/1543384805478","478/1543388409355","693/1543392005118","501/1543395609694","391/1543399208363","515/1543402803832","463/1543406407496","543/1543410006447","517/1543413601831","498/1543417202538","479/1543420804317","399/1543424404523",
"458/1543424404072","416/1543428009325","439/1543431609132","498/1543435207822","426/1543438807121","370/1543442408963","459/1543446006863","406/1543449602149","577/1543453207672","565/1543456801547","383/1543460401829","390/1543464001209","670/1543467609690","465/1543471202388","629/1543474807066","697/1543478401623","511/1543482002489","549/1543485604210","405/1543489201596","536/1543492805960","466/1543496409963","390/1543500005659","499/1543503609180","398/1543507208919","451/1543510801249",
"464/1543510802955","487/1543514407803","561/1543518005771","486/1543521601279","515/1543525207415","410/1543528802144","457/1543532404649","503/1543536004916","371/1543539605459","414/1543543203489","698/1543546801490","514/1543550403233","405/1543554007642","460/1543557607679","626/1543561209907","384/1543564806566","628/1543568401615","486/1543572004328","416/1543575609452","541/1543579205318","503/1543582805181","417/1543586405318","440/1543590009195","411/1543593609631","475/1543597204738"];

var i = 0, howManyTimes = darray.length;
console.log("Tong cong: "+howManyTimes);
function f() {
    let data = darray[i].split('/');
    let co2 = data[0];
    let timeStamp = data[1];
    //Gui len firebase
    firebase.database().ref('/nodeData').child("N04").push( {
        "timeStamp": parseInt(timeStamp),
        "vCo2": parseFloat(co2),
        "vDust": 0.0,
        "vUv": 0.0
    }, error => {
        if (error) {
            console.log("Loi goi tin "+i+": "+error);
        } else {
            console.log(i+ " thanh cong!");
        }
    })

    i++;
    if( i < howManyTimes ){
        setTimeout( f, 1000 );
    }
}
f();